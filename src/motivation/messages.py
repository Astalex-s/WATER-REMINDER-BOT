"""
–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –±–æ—Ç–∞ WaterReminder
"""
import random
from typing import List, Dict, Any


class MotivationMessages:
    """–ö–ª–∞—Å—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"""
    
    def __init__(self):
        self.messages = {
            # –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –≤–æ–¥–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è A)
            'water_reminders': [
                "üíß *–í—Ä–µ–º—è –ø–∏—Ç—å –≤–æ–¥—É!* –í—ã–ø–µ–π—Ç–µ 250–º–ª —á–∏—Å—Ç–æ–π –≤–æ–¥—ã. –í–∞—à–µ —Ç–µ–ª–æ —Å–∫–∞–∂–µ—Ç –≤–∞–º —Å–ø–∞—Å–∏–±–æ! ‚ú®",
                "üö∞ *–í–æ–¥–Ω–∞—è –ø–∞—É–∑–∞!* 250–º–ª –≤–æ–¥—ã –ø–æ–º–æ–≥—É—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é –∏ —è—Å–Ω–æ—Å—Ç—å —É–º–∞ –Ω–∞ –≤–µ—Å—å –¥–µ–Ω—å! üåü",
                "üí¶ *–ì–ª–æ—Ç–æ–∫ –∑–¥–æ—Ä–æ–≤—å—è!* –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ - –≤–æ–¥–∞ —É—Å–∫–æ—Ä—è–µ—Ç –º–µ—Ç–∞–±–æ–ª–∏–∑–º –∏ —É–ª—É—á—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É –º–æ–∑–≥–∞! üß†",
                "üåä *–ü–µ—Ä–µ—Ä—ã–≤ –Ω–∞ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏—é!* 250–º–ª –≤–æ–¥—ã = –∑–∞—Ä—è–¥ –±–æ–¥—Ä–æ—Å—Ç–∏ + –∫—Ä–∞—Å–∏–≤–∞—è –∫–æ–∂–∞ + –∑–¥–æ—Ä–æ–≤—ã–µ –æ—Ä–≥–∞–Ω—ã! üí´"
            ],
            
            # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏–µ–º–∞ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è B)
            'intake_confirmations': {
                'low': "‚úÖ *–û—Ç–ª–∏—á–Ω–æ!* –í—ã –≤—ã–ø–∏–ª–∏ 250–º–ª. –í—Å–µ–≥–æ —Å–µ–≥–æ–¥–Ω—è: {current}/2000–º–ª\n*–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!* üí™",
                'medium': "üéâ *–°—É–ø–µ—Ä!* –ï—â–µ 250–º–ª –Ω–∞ –ø—É—Ç–∏ –∫ –∑–¥–æ—Ä–æ–≤—å—é! –í—Å–µ–≥–æ: {current}/2000–º–ª\n*–í—ã –Ω–∞ –ø–æ–ª–ø—É—Ç–∏ –∫ —Ü–µ–ª–∏!* üåü",
                'high': "üî• *–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ!* {current}–º–ª —É–∂–µ –≤—ã–ø–∏—Ç–æ! –í–∞—à–∏ –∫–ª–µ—Ç–∫–∏ —Ç–∞–Ω—Ü—É—é—Ç –æ—Ç —Ä–∞–¥–æ—Å—Ç–∏! üíÉ",
                'almost': "üíé *–ò–¥–µ–∞–ª—å–Ω–æ!* {current}–º–ª –ø—Ä–æ–π–¥–µ–Ω–æ! –í–∞—à–∞ –∫–æ–∂–∞ —Å–∏—è–µ—Ç, –æ—Ä–≥–∞–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —á–∞—Å—ã! ‚ú®"
            },
            
            # –í–µ—Ö–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è C)
            'milestones': {
                50: "üèÜ *50% –ø—Ä–æ–π–¥–µ–Ω–æ!* –í—ã —É–∂–µ –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø—É—Ç–∏ –∫ 2 –ª–∏—Ç—Ä–∞–º! –û—Å—Ç–∞–ª–æ—Å—å –≤—Å–µ–≥–æ 1000–º–ª! üöÄ",
                75: "‚≠ê *75% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!* –í—Å–µ–≥–æ 500–º–ª –¥–æ –ø–æ–ª–Ω–æ–π –ø–æ–±–µ–¥—ã! –í—ã –ø–æ—á—Ç–∏ —É —Ü–µ–ª–∏! üí´",
                95: "üéä *95% –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ!* –§–∏–Ω–∏—à–Ω–∞—è –ø—Ä—è–º–∞—è! –í—Å–µ–≥–æ –æ–¥–∏–Ω –≥–ª–æ—Ç–æ–∫ –¥–æ –ø–æ–ª–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞! üåà"
            },
            
            # –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è D)
            'goal_achieved': "üåà *–ü–û–ë–ï–î–ê!* –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —Ü–µ–ª–∏ –¥–Ω—è - 2000–º–ª –≤–æ–¥—ã! üéâ\n*–í–∞—à–µ —Ç–µ–ª–æ –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç –≤–∞—Å –∑–∞:*\n‚Ä¢ üíÜ‚Äç‚ôÇÔ∏è –£–≤–ª–∞–∂–Ω–µ–Ω–Ω—É—é –∫–æ–∂—É\n‚Ä¢ üß† –Ø—Å–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ\n‚Ä¢ üí™ –≠–Ω–µ—Ä–≥–∏—é –Ω–∞ –≤–µ—Å—å –¥–µ–Ω—å\n‚Ä¢ üèÉ‚Äç‚ôÇÔ∏è –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π –º–µ—Ç–∞–±–æ–ª–∏–∑–º\n*–ì–æ—Ä–¥–∏—Ç–µ—Å—å —Å–æ–±–æ–π! –ó–∞–≤—Ç—Ä–∞ –ø–æ–≤—Ç–æ—Ä–∏–º!* ‚ú®",
            
            # –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–∫–∞—Ç–µ–≥–æ—Ä–∏—è E)
            'follow_ups': [
                "‚è∞ *–ù–∞–ø–æ–º–∏–Ω–∞–µ–º –æ –≤–æ–¥–µ!* –ü—Ä–æ—à–ª–æ 5 –º–∏–Ω—É—Ç - –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–µ–º 250–º–ª –≤–æ–¥—ã –¥–ª—è –≤–∞—à–µ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è! üíß",
                "üí° *–ù–µ –∑–∞–±—ã–ª–∏ –æ –≤–æ–¥–µ?* –í—Å–µ–≥–æ 250–º–ª –ø–æ–º–æ–≥—É—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Ö–æ—Ä–æ—à–µ–µ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ! üåü"
            ],
            
            # –£—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è F)
            'morning': "üåÖ *–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ!* –ù–∞—á–Ω–∏—Ç–µ –¥–µ–Ω—å —Å 250–º–ª –≤–æ–¥—ã –Ω–∞—Ç–æ—â–∞–∫ - —ç—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –º–µ—Ç–∞–±–æ–ª–∏–∑–º –∏ –æ—á–∏—Å—Ç–∏—Ç –æ—Ä–≥–∞–Ω–∏–∑–º! üí´",
            
            # –í–µ—á–µ—Ä–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è G)
            'evening_stats': "üìä *–ò—Ç–æ–≥–∏ –¥–Ω—è:* –í—ã –≤—ã–ø–∏–ª–∏ {current}/2000–º–ª! {motivational_phrase}",
            
            # –û—Å–æ–±—ã–µ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è H)
            'special': [
                "üíù *–õ—é–±–∏—Ç–µ —Å–µ–±—è!* –ö–∞–∂–¥—ã–π –≥–ª–æ—Ç–æ–∫ –≤–æ–¥—ã - —ç—Ç–æ –∑–∞–±–æ—Ç–∞ –æ —Å–≤–æ–µ–º –∑–¥–æ—Ä–æ–≤—å–µ –∏ –∫—Ä–∞—Å–æ—Ç–µ! ‚ú®",
                "üéØ *–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ = —Å–≤–æ–±–æ–¥–∞!* –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –ø–∏—Ç—å–µ –≤–æ–¥—ã –¥–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤—Å–µ—Ö —Ü–µ–ª–µ–π! üöÄ",
                "üåø *–ü—Ä–∏—Ä–æ–¥–∞ –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç!* –ü–∏—Ç—å –≤–æ–¥—É - –∑–Ω–∞—á–∏—Ç –ø–æ–º–æ–≥–∞—Ç—å —Å–≤–æ–µ–º—É —Ç–µ–ª—É —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –≥–∞—Ä–º–æ–Ω–∏–∏ —Å –ø—Ä–∏—Ä–æ–¥–æ–π! üíö"
            ],
            
            # –ù–∞—É—á–Ω—ã–µ —Ñ–∞–∫—Ç—ã (–∫–∞—Ç–µ–≥–æ—Ä–∏—è I)
            'facts': [
                "üî¨ *–ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã?* –í—Å–µ–≥–æ 2% –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è —Å–Ω–∏–∂–∞—é—Ç –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é –Ω–∞ 20%. –ü–µ–π—Ç–µ –≤–æ–¥—É –¥–ª—è —è—Å–Ω–æ–≥–æ —É–º–∞! üß†",
                "üß™ *–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç!* –í–æ–¥–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 60% –º–∞—Å—Å—ã —Ç–µ–ª–∞ –≤–∑—Ä–æ—Å–ª–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —ç—Ç–æ—Ç –±–∞–ª–∞–Ω—Å! ‚öñÔ∏è",
                "üîç *–ù–∞—É—á–Ω–æ –¥–æ–∫–∞–∑–∞–Ω–æ!* –ü–∏—Ç—å–µ –≤–æ–¥—ã –Ω–∞—Ç–æ—â–∞–∫ —É—Å–∫–æ—Ä—è–µ—Ç –º–µ—Ç–∞–±–æ–ª–∏–∑–º –Ω–∞ 30%! –ù–∞—á–Ω–∏—Ç–µ –¥–µ–Ω—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ! üöÄ"
            ]
        }
        
        # –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –≤–µ—á–µ—Ä–Ω–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        self.evening_phrases = {
            'excellent': "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –í—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏ –∫ –∑–¥–æ—Ä–æ–≤—å—é! üåü",
            'good': "–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ó–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –µ—â–µ –ª—É—á—à–µ! üí™",
            'average': "–ù–µ–ø–ª–æ—Ö–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–¥—ã –∑–∞–≤—Ç—Ä–∞! üå±",
            'low': "–ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ—Å—å! –ö–∞–∂–¥—ã–π –¥–µ–Ω—å - –Ω–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å! üåà"
        }
    
    def get_water_reminder(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –≤–æ–¥–µ"""
        return random.choice(self.messages['water_reminders'])
    
    def get_intake_confirmation(self, percentage: float) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏–µ–º–∞ –≤–æ–¥—ã"""
        if percentage <= 25:
            category = 'low'
        elif percentage <= 50:
            category = 'medium'
        elif percentage <= 75:
            category = 'high'
        else:
            category = 'almost'
        
        return self.messages['intake_confirmations'][category]
    
    def get_milestone_message(self, percentage: int) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≤–µ—Ö–∏"""
        return self.messages['milestones'].get(percentage, "")
    
    def get_goal_achieved_message(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏"""
        return self.messages['goal_achieved']
    
    def get_follow_up_reminder(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ"""
        return random.choice(self.messages['follow_ups'])
    
    def get_morning_motivation(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —É—Ç—Ä–µ–Ω–Ω–µ–µ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"""
        return self.messages['morning']
    
    def get_evening_stats(self, current_ml: int, goal_ml: int) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å –≤–µ—á–µ—Ä–Ω—é—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"""
        percentage = (current_ml / goal_ml) * 100
        
        if percentage >= 100:
            phrase = self.evening_phrases['excellent']
        elif percentage >= 75:
            phrase = self.evening_phrases['good']
        elif percentage >= 50:
            phrase = self.evening_phrases['average']
        else:
            phrase = self.evening_phrases['low']
        
        return self.messages['evening_stats'].format(
            current=current_ml, 
            motivational_phrase=phrase
        )
    
    def get_special_motivation(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å –æ—Å–æ–±—É—é –º–æ—Ç–∏–≤–∞—Ü–∏—é"""
        return random.choice(self.messages['special'])
    
    def get_scientific_fact(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å –Ω–∞—É—á–Ω—ã–π —Ñ–∞–∫—Ç"""
        return random.choice(self.messages['facts'])
    
    def get_random_motivation(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"""
        all_messages = []
        all_messages.extend(self.messages['water_reminders'])
        all_messages.extend(self.messages['intake_confirmations'].values())
        all_messages.extend(self.messages['milestones'].values())
        all_messages.extend(self.messages['follow_ups'])
        all_messages.extend(self.messages['special'])
        all_messages.extend(self.messages['facts'])
        
        return random.choice(all_messages)
    
    def get_progress_bar(self, current_ml: int, goal_ml: int) -> str:
        """–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä"""
        percentage = min((current_ml / goal_ml) * 100, 100)
        filled_blocks = int(percentage / 10)
        empty_blocks = 10 - filled_blocks
        
        bar = "üíß" * filled_blocks + "‚ö™" * empty_blocks
        return f"[{bar}] {percentage:.0f}% ({current_ml}/{goal_ml} –º–ª)"


